(this.webpackJsonprevolut=this.webpackJsonprevolut||[]).push([[0],{17:function(e,t,n){},19:function(e,t,n){e.exports=n(33)},24:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(9),o=n.n(a),l=(n(24),n(25),n(26),n(27),n(2)),u=n(7),i=Object(u.b)({name:"wallet",initialState:{USD:40,GBP:50,EUR:60,firstAmount:"",secondAmount:"",firstWalletError:null},reducers:{changeFirstAmount:function(e,t){var n=t.payload.firstAmount;e.firstAmount=n},changeSecondAmount:function(e,t){var n=t.payload.secondAmount;e.secondAmount=n},checkFirstWalletError:function(e,t){var n=t.payload.error;e.firstWalletError=n},updateWallet:function(e,t){var n=t.payload,c=n.firstWalletType,r=n.firstAmount,a=n.secondWalletType,o=n.secondAmount;e[c]=r,e[a]=o,e.firstAmount="",e.secondAmount=""}}}),s=i.actions,m=s.changeFirstAmount,f=s.changeSecondAmount,d=s.updateWallet,y=s.checkFirstWalletError,g=function(e){return e.wallet.firstAmount},b=function(e){return e.wallet.secondAmount},v=function(e){return e.wallet.firstWalletError},E=i.reducer,h=function(e,t){if(Number.isInteger(Number(e)))t(y({error:null}));else{var n=e.split(".")[1].length||0;t(y(n<3?{error:null}:{error:"Your input must have only two digits after comma"}))}},p={USD:"$",GBP:"\xa3",EUR:"\u20ac"},w=function(e,t){var n=e.first,c=e.second,r="".concat("https://api.exchangeratesapi.io","/latest?base=").concat(n,"&symbols=").concat(c);return fetch(r).then((function(e){return e.json()})).then((function(e){if(e.error)throw new Error("There is something wrong with your request. Please try again!");t(C(e.rates[c].toFixed(4)))})).catch((function(e){alert(e)}))},j=Object(u.b)({name:"exchange",initialState:{firstCurrency:"GBP",firstSign:"\xa3",secondCurrency:"USD",currencyRate:"",secondSign:"$"},reducers:{changeFirstCurrency:function(e,t){var n=t.payload,c=n.first,r=n.firstSign;e.firstCurrency=c,e.firstSign=r},changeSecondCurrency:function(e,t){var n=t.payload,c=n.second,r=n.secondSign;e.secondCurrency=c,e.secondSign=r},changeCurrencyRate:function(e,t){e.currencyRate=t.payload}}}),A=j.actions,N=A.changeFirstCurrency,x=A.changeSecondCurrency,C=A.changeCurrencyRate,O=function(e){return function(t){!function(){for(var e=setTimeout(";"),t=0;t<e;t++)clearTimeout(t)}(),w(e,t),setInterval((function(){w(e,t)}),1e4)}},S=function(e){return e.exchange.firstCurrency},F=function(e){return e.exchange.secondCurrency},R=function(e){return e.exchange.currencyRate},W=function(e){return e.exchange.firstSign},k=function(e){return e.exchange.secondSign},U=j.reducer,B=function(){var e=Object(l.c)(S),t=Object(l.c)(F),n=Object(l.c)(R),a=Object(l.c)(W),o=Object(l.c)(k),u=Object(l.b)();return Object(c.useEffect)((function(){u(O({first:e,second:t}))}),[e,t]),r.a.createElement("div",{className:"exchange-container"},r.a.createElement("span",{className:"currency"},a),"1=",r.a.createElement("span",{className:"currency"},o),n.slice(0,4),r.a.createElement("span",{className:"currency"},n.slice(4,6)))},T=n(34),P=function(e){var t=e.firstAmount,n=e.firstCurrency,c=e.secondCurrency,a=e.currencyRate,o=Object(l.c)((function(e){return e.wallet[n].toFixed(2)})),u=Object(l.c)((function(e){return e.wallet[c].toFixed(2)})),i=Object(l.c)(v),s=Boolean(+t>o||""===t||n===c||i),m=Object(l.b)();return r.a.createElement("div",{className:"header-container"},r.a.createElement(T.a,{type:"button",className:"header-button"},"Cancel"),r.a.createElement(B,null),r.a.createElement(T.a,{type:"button",className:"header-button",disabled:s,onClick:function(){m(d({firstWalletType:n,secondWalletType:c,firstAmount:+o-t,secondAmount:+u+t*a}))}},"Exchange"))},D=(n(17),n(35)),G=function(e){var t=e.currency,n=e.sign,c=e.secondCurrency,a=e.currencyRate,o=e.firstAmount,u=Object(l.b)(),i=Object(l.c)((function(e){return e.wallet[t].toFixed(2)})),s=Object(l.c)(v);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"wallet-container background"},r.a.createElement("div",{className:"d-flex flex-column justify-content-between h-100"},r.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},r.a.createElement(D.a,{type:"select",name:"select",className:"wallet-currency background",defaultValue:t,onChange:function(e){return t=e.target.value,u(N({first:t,firstSign:p[t]})),u(m({firstAmount:""})),void u(f({secondAmount:""}));var t}},r.a.createElement("option",null,"GBP"),r.a.createElement("option",null,"USD"),r.a.createElement("option",null,"EUR")),r.a.createElement(D.a,{type:"number",className:"wallet-input",value:o,onChange:function(e){return t=e.target.value,h(t,u),u(m({firstAmount:t})),void u(f({secondAmount:(t*a).toFixed(2)}));var t},disabled:t===c,min:"0"})),s&&r.a.createElement("p",{className:"wallet-error-message"},s),r.a.createElement("div",null,r.a.createElement("div",{className:"wallet-pocket"},"You Have ",n,i)))),r.a.createElement("div",{className:"arrow-down"}))},I=function(e){var t=e.firstSign,n=e.firstCurrency,c=e.currency,a=e.secondSign,o=e.currencyRate,u=Object(l.b)(),i=Object(l.c)(b),s=(1/o).toFixed(2),d=Object(l.c)((function(e){return e.wallet[c].toFixed(2)}));return r.a.createElement("div",{className:"wallet-container"},r.a.createElement("div",{className:"d-flex flex-column justify-content-between h-100"},r.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},r.a.createElement(D.a,{type:"select",name:"select",className:"wallet-currency-second",defaultValue:c,onChange:function(e){return t=e.target.value,u(x({second:t,secondSign:p[t]})),u(m({firstAmount:""})),void u(f({secondAmount:""}));var t}},r.a.createElement("option",null,"GBP"),r.a.createElement("option",null,"USD"),r.a.createElement("option",null,"EUR")),r.a.createElement(D.a,{type:"number",className:"wallet-input-second",value:i,onChange:function(e){return function(e){var t=e*(1/o);h(e,u),u(m({firstAmount:t.toFixed(2)})),u(f({secondAmount:e}))}(e.target.value)},disabled:c===n,min:"0"})),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{className:"wallet-pocket"},"You Have ",a,d),r.a.createElement("div",{className:"wallet-pocket"},"1",a,"=",t,s))))},Y=function(){var e=Object(l.c)(S),t=Object(l.c)(F),n=Object(l.c)(W),c=Object(l.c)(k),a=Object(l.c)(g),o=Object(l.c)(R);return r.a.createElement("div",{className:"h-100 w-100"},r.a.createElement(P,{firstAmount:a,firstCurrency:e,secondCurrency:t,currencyRate:o}),r.a.createElement("div",{className:"wallets-container"},r.a.createElement(G,{currency:e,firstAmount:a,secondCurrency:t,sign:n,currencyRate:o}),r.a.createElement(I,{currency:t,firstCurrency:e,firstSign:n,secondSign:c,currencyRate:o})))},$=Object(u.a)({reducer:{exchange:U,wallet:E}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:$},r.a.createElement(Y,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[19,1,2]]]);
//# sourceMappingURL=main.edff0471.chunk.js.map