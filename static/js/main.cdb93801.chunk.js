(this.webpackJsonprevolut=this.webpackJsonprevolut||[]).push([[0],{17:function(e,t,n){},19:function(e,t,n){e.exports=n(33)},24:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(9),o=n.n(r),l=(n(24),n(25),n(26),n(27),n(2)),i=n(7),u=Object(i.b)({name:"exchange",initialState:{firstCurrency:"GBP",firstSign:"\xa3",secondCurrency:"USD",currencyRate:"",secondSign:"$"},reducers:{changeFirstCurrency:function(e,t){var n=t.payload,a=n.first,c=n.firstSign;e.firstCurrency=a,e.firstSign=c},changeSecondCurrency:function(e,t){var n=t.payload,a=n.second,c=n.secondSign;e.secondCurrency=a,e.secondSign=c},changeCurrencyRate:function(e,t){e.currencyRate=t.payload}}}),s=u.actions,m=s.changeFirstCurrency,d=s.changeSecondCurrency,f=s.changeCurrencyRate,y=function(e){return e.exchange.firstCurrency},g=function(e){return e.exchange.secondCurrency},b=function(e){return e.exchange.currencyRate},v=function(e){return e.exchange.firstSign},h=function(e){return e.exchange.secondSign},E=u.reducer,p=Object(i.b)({name:"wallet",initialState:{USD:40,GBP:50,EUR:60,firstAmount:"",secondAmount:"",firstWalletError:null},reducers:{changeFirstAmount:function(e,t){var n=t.payload.firstAmount;e.firstAmount=n},changeSecondAmount:function(e,t){var n=t.payload.secondAmount;e.secondAmount=n},checkFirstWalletError:function(e,t){var n=t.payload.error;e.firstWalletError=n},updateWallet:function(e,t){var n=t.payload,a=n.firstWalletType,c=n.firstAmount,r=n.secondWalletType,o=n.secondAmount;e[a]=c,e[r]=o,e.firstAmount="",e.secondAmount=""}}}),w=p.actions,j=w.changeFirstAmount,A=w.changeSecondAmount,x=w.updateWallet,N=w.checkFirstWalletError,C=function(e){return e.wallet.firstAmount},O=function(e){return e.wallet.secondAmount},S=function(e){return e.wallet.firstWalletError},F=p.reducer,R={USD:"$",GBP:"\xa3",EUR:"\u20ac"},W=function(e,t){var n=e.first,a=e.second,c="".concat("https://api.exchangeratesapi.io","/latest?base=").concat(n,"&symbols=").concat(a);return fetch(c).then((function(e){return e.json()})).then((function(e){if(e.error)throw new Error("There is something wrong with your request. Please try again!");t(f(e.rates[a].toFixed(4)))})).catch((function(e){alert(e)}))},k=function(){for(var e=setTimeout(";"),t=0;t<e;t++)clearTimeout(t)},B=function(e,t){if(Number.isInteger(Number(e)))t(N({error:null}));else{var n=e.split(".")[1].length||0;t(N(n<3?{error:null}:{error:"Your input must have only two digits after comma"}))}},U=function(e){return function(t){k(),W(e,t),setInterval((function(){W(e,t)}),1e4)}},T=function(){var e=Object(l.c)(y),t=Object(l.c)(g),n=Object(l.c)(b),r=Object(l.c)(v),o=Object(l.c)(h),i=Object(l.b)();return Object(a.useEffect)((function(){i(U({first:e,second:t}))}),[e,t]),c.a.createElement("div",{className:"exchange-container"},c.a.createElement("span",{className:"currency"},r),"1=",c.a.createElement("span",{className:"currency"},o),n.slice(0,4),c.a.createElement("span",{className:"currency"},n.slice(4,6)))},P=n(34),D=function(e){var t=e.firstAmount,n=e.firstCurrency,a=e.secondCurrency,r=e.currencyRate,o=Object(l.c)((function(e){return e.wallet[n].toFixed(2)})),i=Object(l.c)((function(e){return e.wallet[a].toFixed(2)})),u=Object(l.c)(S),s=Boolean(+t>o||""===t||n===a||u),m=Object(l.b)();return c.a.createElement("div",{className:"header-container"},c.a.createElement(P.a,{type:"button",className:"header-button"},"Cancel"),c.a.createElement(T,null),c.a.createElement(P.a,{type:"button","data-testid":"exchangeButton",className:"header-button",disabled:s,onClick:function(){m(x({firstWalletType:n,secondWalletType:a,firstAmount:+o-t,secondAmount:+i+t*r}))}},"Exchange"))},G=(n(17),n(35)),I=function(e){var t=e.currency,n=e.sign,a=e.secondCurrency,r=e.currencyRate,o=e.firstAmount,i=Object(l.b)(),u=Object(l.c)((function(e){return e.wallet[t].toFixed(2)})),s=Object(l.c)(S);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"wallet-container background"},c.a.createElement("div",{className:"d-flex flex-column justify-content-between h-100"},c.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},c.a.createElement(G.a,{type:"select","data-testid":"wallet-select",name:"select",className:"wallet-currency background",defaultValue:t,onChange:function(e){return t=e.target.value,i(m({first:t,firstSign:R[t]})),i(j({firstAmount:""})),void i(A({secondAmount:""}));var t}},c.a.createElement("option",null,"GBP"),c.a.createElement("option",null,"USD"),c.a.createElement("option",null,"EUR")),c.a.createElement("input",{type:"number","data-testid":"wallet-input-1",className:"wallet-input",value:o,onChange:function(e){return t=e.target.value,B(t,i),i(j({firstAmount:t})),void i(A({secondAmount:(t*r).toFixed(2)}));var t},disabled:t===a,min:"0"})),s&&c.a.createElement("p",{className:"wallet-error-message"},s),c.a.createElement("div",null,c.a.createElement("div",{className:"wallet-pocket"},"You Have ",n,u)))),c.a.createElement("div",{className:"arrow-down"}))},Y=function(e){var t=e.firstSign,n=e.firstCurrency,a=e.currency,r=e.secondSign,o=e.currencyRate,i=Object(l.b)(),u=Object(l.c)(O),s=(1/o).toFixed(2),m=Object(l.c)((function(e){return e.wallet[a].toFixed(2)}));return c.a.createElement("div",{className:"wallet-container"},c.a.createElement("div",{className:"d-flex flex-column justify-content-between h-100"},c.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},c.a.createElement(G.a,{type:"select","data-testid":"wallet-select",name:"select",className:"wallet-currency-second",defaultValue:a,onChange:function(e){return t=e.target.value,i(d({second:t,secondSign:R[t]})),i(j({firstAmount:""})),void i(A({secondAmount:""}));var t}},c.a.createElement("option",null,"GBP"),c.a.createElement("option",null,"USD"),c.a.createElement("option",null,"EUR")),c.a.createElement("input",{type:"number","data-testid":"wallet-input-2",className:"wallet-input-second",value:u,onChange:function(e){return function(e){var t=e*(1/o);B(e,i),i(j({firstAmount:t.toFixed(2)})),i(A({secondAmount:e}))}(e.target.value)},disabled:a===n,min:"0"})),c.a.createElement("div",{className:"d-flex justify-content-between"},c.a.createElement("div",{className:"wallet-pocket"},"You Have ",r,m),c.a.createElement("div",{className:"wallet-pocket"},"1",r,"=",t,s))))},$=function(){var e=Object(l.c)(y),t=Object(l.c)(g),n=Object(l.c)(v),a=Object(l.c)(h),r=Object(l.c)(C),o=Object(l.c)(b);return c.a.createElement("div",{className:"h-100 w-100"},c.a.createElement(D,{firstAmount:r,firstCurrency:e,secondCurrency:t,currencyRate:o}),c.a.createElement("div",{className:"wallets-container"},c.a.createElement(I,{currency:e,firstAmount:r,secondCurrency:t,sign:n,currencyRate:o}),c.a.createElement(Y,{currency:t,firstCurrency:e,firstSign:n,secondSign:a,currencyRate:o})))},H=Object(i.a)({reducer:{exchange:E,wallet:F}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(l.a,{store:H},c.a.createElement($,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[19,1,2]]]);
//# sourceMappingURL=main.cdb93801.chunk.js.map