(this.webpackJsonprevolut=this.webpackJsonprevolut||[]).push([[0],{17:function(e,t,n){},19:function(e,t,n){e.exports=n(33)},24:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(9),o=n.n(a),l=(n(24),n(25),n(26),n(27),n(2)),u=n(7),i=Object(u.b)({name:"exchange",initialState:{firstCurrency:"GBP",firstSign:"\xa3",secondCurrency:"USD",currencyRate:"",secondSign:"$"},reducers:{changeFirstCurrency:function(e,t){var n=t.payload,c=n.first,r=n.firstSign;e.firstCurrency=c,e.firstSign=r},changeSecondCurrency:function(e,t){var n=t.payload,c=n.second,r=n.secondSign;e.secondCurrency=c,e.secondSign=r},changeCurrencyRate:function(e,t){e.currencyRate=t.payload}}}),s=i.actions,m=s.changeFirstCurrency,f=s.changeSecondCurrency,d=s.changeCurrencyRate,y=function(e){return e.exchange.firstCurrency},g=function(e){return e.exchange.secondCurrency},b=function(e){return e.exchange.currencyRate},v=function(e){return e.exchange.firstSign},E=function(e){return e.exchange.secondSign},h=i.reducer,p=Object(u.b)({name:"wallet",initialState:{USD:40,GBP:50,EUR:60,firstAmount:"",secondAmount:"",firstWalletError:null},reducers:{changeFirstAmount:function(e,t){var n=t.payload.firstAmount;e.firstAmount=n},changeSecondAmount:function(e,t){var n=t.payload.secondAmount;e.secondAmount=n},checkFirstWalletError:function(e,t){var n=t.payload.error;e.firstWalletError=n},updateWallet:function(e,t){var n=t.payload,c=n.firstWalletType,r=n.firstAmount,a=n.secondWalletType,o=n.secondAmount;e[c]=r,e[a]=o,e.firstAmount="",e.secondAmount=""}}}),w=p.actions,j=w.changeFirstAmount,A=w.changeSecondAmount,N=w.updateWallet,x=w.checkFirstWalletError,C=function(e){return e.wallet.firstAmount},O=function(e){return e.wallet.secondAmount},S=function(e){return e.wallet.firstWalletError},F=p.reducer,R={USD:"$",GBP:"\xa3",EUR:"\u20ac"},W=function(e,t){var n=e.first,c=e.second,r="".concat("https://api.exchangeratesapi.io","/latest?base=").concat(n,"&symbols=").concat(c);return fetch(r).then((function(e){return e.json()})).then((function(e){if(e.error)throw new Error("There is something wrong with your request. Please try again!");t(d(e.rates[c].toFixed(4)))})).catch((function(e){alert(e)}))},k=function(){for(var e=setTimeout(";"),t=0;t<e;t++)clearTimeout(t)},U=function(e,t){if(Number.isInteger(Number(e)))t(x({error:null}));else{var n=e.split(".")[1].length||0;t(x(n<3?{error:null}:{error:"Your input must have only two digits after comma"}))}},B=function(e){return function(t){k(),W(e,t),setInterval((function(){W(e,t)}),1e4)}},T=function(){var e=Object(l.c)(y),t=Object(l.c)(g),n=Object(l.c)(b),a=Object(l.c)(v),o=Object(l.c)(E),u=Object(l.b)();return Object(c.useEffect)((function(){u(B({first:e,second:t}))}),[e,t]),r.a.createElement("div",{className:"exchange-container"},r.a.createElement("span",{className:"currency"},a),"1=",r.a.createElement("span",{className:"currency"},o),n.slice(0,4),r.a.createElement("span",{className:"currency"},n.slice(4,6)))},P=n(34),D=function(e){var t=e.firstAmount,n=e.firstCurrency,c=e.secondCurrency,a=e.currencyRate,o=Object(l.c)((function(e){return e.wallet[n].toFixed(2)})),u=Object(l.c)((function(e){return e.wallet[c].toFixed(2)})),i=Object(l.c)(S),s=Boolean(+t>o||""===t||n===c||i),m=Object(l.b)();return r.a.createElement("div",{className:"header-container"},r.a.createElement(P.a,{type:"button",className:"header-button"},"Cancel"),r.a.createElement(T,null),r.a.createElement(P.a,{type:"button",className:"header-button",disabled:s,onClick:function(){m(N({firstWalletType:n,secondWalletType:c,firstAmount:+o-t,secondAmount:+u+t*a}))}},"Exchange"))},G=(n(17),n(35)),I=function(e){var t=e.currency,n=e.sign,c=e.secondCurrency,a=e.currencyRate,o=e.firstAmount,u=Object(l.b)(),i=Object(l.c)((function(e){return e.wallet[t].toFixed(2)})),s=Object(l.c)(S);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"wallet-container background"},r.a.createElement("div",{className:"d-flex flex-column justify-content-between h-100"},r.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},r.a.createElement(G.a,{type:"select",name:"select",className:"wallet-currency background",defaultValue:t,onChange:function(e){return t=e.target.value,u(m({first:t,firstSign:R[t]})),u(j({firstAmount:""})),void u(A({secondAmount:""}));var t}},r.a.createElement("option",null,"GBP"),r.a.createElement("option",null,"USD"),r.a.createElement("option",null,"EUR")),r.a.createElement(G.a,{type:"number",className:"wallet-input",value:o,onChange:function(e){return t=e.target.value,U(t,u),u(j({firstAmount:t})),void u(A({secondAmount:(t*a).toFixed(2)}));var t},disabled:t===c,min:"0"})),s&&r.a.createElement("p",{className:"wallet-error-message"},s),r.a.createElement("div",null,r.a.createElement("div",{className:"wallet-pocket"},"You Have ",n,i)))),r.a.createElement("div",{className:"arrow-down"}))},Y=function(e){var t=e.firstSign,n=e.firstCurrency,c=e.currency,a=e.secondSign,o=e.currencyRate,u=Object(l.b)(),i=Object(l.c)(O),s=(1/o).toFixed(2),m=Object(l.c)((function(e){return e.wallet[c].toFixed(2)}));return r.a.createElement("div",{className:"wallet-container"},r.a.createElement("div",{className:"d-flex flex-column justify-content-between h-100"},r.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},r.a.createElement(G.a,{type:"select",name:"select",className:"wallet-currency-second",defaultValue:c,onChange:function(e){return t=e.target.value,u(f({second:t,secondSign:R[t]})),u(j({firstAmount:""})),void u(A({secondAmount:""}));var t}},r.a.createElement("option",null,"GBP"),r.a.createElement("option",null,"USD"),r.a.createElement("option",null,"EUR")),r.a.createElement(G.a,{type:"number",className:"wallet-input-second",value:i,onChange:function(e){return function(e){var t=e*(1/o);U(e,u),u(j({firstAmount:t.toFixed(2)})),u(A({secondAmount:e}))}(e.target.value)},disabled:c===n,min:"0"})),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{className:"wallet-pocket"},"You Have ",a,m),r.a.createElement("div",{className:"wallet-pocket"},"1",a,"=",t,s))))},$=function(){var e=Object(l.c)(y),t=Object(l.c)(g),n=Object(l.c)(v),c=Object(l.c)(E),a=Object(l.c)(C),o=Object(l.c)(b);return r.a.createElement("div",{className:"h-100 w-100"},r.a.createElement(D,{firstAmount:a,firstCurrency:e,secondCurrency:t,currencyRate:o}),r.a.createElement("div",{className:"wallets-container"},r.a.createElement(I,{currency:e,firstAmount:a,secondCurrency:t,sign:n,currencyRate:o}),r.a.createElement(Y,{currency:t,firstCurrency:e,firstSign:n,secondSign:c,currencyRate:o})))},H=Object(u.a)({reducer:{exchange:h,wallet:F}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:H},r.a.createElement($,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[19,1,2]]]);
//# sourceMappingURL=main.142d4708.chunk.js.map