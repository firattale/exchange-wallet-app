(this.webpackJsonprevolut=this.webpackJsonprevolut||[]).push([[0],{17:function(e,t,n){},19:function(e,t,n){e.exports=n(33)},24:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(9),o=n.n(a),l=(n(24),n(25),n(26),n(27),n(2)),i=n(7),u=Object(i.b)({name:"wallet",initialState:{USD:40,GBP:50,EUR:60,firstAmount:"",secondAmount:"",firstWalletError:null},reducers:{changeFirstAmount:function(e,t){var n=t.payload.firstAmount;e.firstAmount=n},changeSecondAmount:function(e,t){var n=t.payload.secondAmount;e.secondAmount=n},checkFirstWalletError:function(e,t){var n=t.payload.error;e.firstWalletError=n},updateWallet:function(e,t){var n=t.payload,c=n.firstWalletType,r=n.firstAmount,a=n.secondWalletType,o=n.secondAmount;e[c]=r,e[a]=o,e.firstAmount="",e.secondAmount=""}}}),s=u.actions,m=s.changeFirstAmount,d=s.changeSecondAmount,f=s.updateWallet,y=s.checkFirstWalletError,g=function(e){return e.wallet.firstAmount},b=function(e){return e.wallet.secondAmount},v=function(e){return e.wallet.firstWalletError},E=u.reducer,h=function(e,t){if(Number.isInteger(Number(e)))t(y({error:null}));else{var n=e.split(".")[1].length||0;t(y(n<3?{error:null}:{error:"Your input must have only two digits after comma"}))}},p={USD:"$",GBP:"\xa3",EUR:"\u20ac"},w=Object(i.b)({name:"exchange",initialState:{firstCurrency:"GBP",firstSign:"\xa3",secondCurrency:"USD",currencyRate:"",secondSign:"$"},reducers:{changeFirstCurrency:function(e,t){var n=t.payload,c=n.first,r=n.firstSign;e.firstCurrency=c,e.firstSign=r},changeSecondCurrency:function(e,t){var n=t.payload,c=n.second,r=n.secondSign;e.secondCurrency=c,e.secondSign=r},changeCurrencyRate:function(e,t){e.currencyRate=t.payload}}}),j=w.actions,A=j.changeFirstCurrency,N=j.changeSecondCurrency,x=j.changeCurrencyRate,C=function(e){return function(t){!function(){for(var e=setTimeout(";"),t=0;t<e;t++)clearTimeout(t)}(),function(e,t){var n=e.first,c=e.second,r="".concat("https://api.exchangeratesapi.io","/latest?base=").concat(n,"&symbols=").concat(c);fetch(r).then((function(e){return e.json()})).then((function(e){if(e.error)throw new Error("There is something wrong with your request. Please try again!");t(x(e.rates[c].toFixed(4)))})).catch((function(e){alert(e)}))}(e,t)}},O=function(e){return e.exchange.firstCurrency},S=function(e){return e.exchange.secondCurrency},F=function(e){return e.exchange.currencyRate},R=function(e){return e.exchange.firstSign},W=function(e){return e.exchange.secondSign},k=w.reducer,U=function(e){var t=Object(l.c)(O),n=Object(l.c)(S),a=Object(l.c)(F),o=Object(l.c)(R),i=Object(l.c)(W),u=Object(l.b)();return Object(c.useEffect)((function(){u(C({first:t,second:n}))}),[u,t,n]),r.a.createElement("div",{className:"exchange-container"},r.a.createElement("span",{className:"currency"},o),"1=",r.a.createElement("span",{className:"currency"},i),a.slice(0,4),r.a.createElement("span",{className:"currency"},a.slice(4,6)))},B=n(34),T=function(e){var t=e.firstAmount,n=e.firstCurrency,c=e.secondCurrency,a=e.currencyRate,o=Object(l.c)((function(e){return e.wallet[n].toFixed(2)})),i=Object(l.c)((function(e){return e.wallet[c].toFixed(2)})),u=Object(l.c)(v),s=Boolean(+t>o||""===t||n===c||u),m=Object(l.b)();return r.a.createElement("div",{className:"header-container"},r.a.createElement(B.a,{type:"button",className:"header-button"},"Cancel"),r.a.createElement(U,null),r.a.createElement(B.a,{type:"button",className:"header-button",disabled:s,onClick:function(){m(f({firstWalletType:n,secondWalletType:c,firstAmount:+o-t,secondAmount:+i+t*a}))}},"Exchange"))},P=(n(17),n(35)),D=function(e){var t=e.currency,n=e.sign,c=e.secondCurrency,a=e.currencyRate,o=e.firstAmount,i=Object(l.b)(),u=Object(l.c)((function(e){return e.wallet[t].toFixed(2)})),s=Object(l.c)(v);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"wallet-container background"},r.a.createElement("div",{className:"d-flex flex-column justify-content-between h-100"},r.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},r.a.createElement(P.a,{type:"select",name:"select",className:"wallet-currency background",defaultValue:t,onChange:function(e){return t=e.target.value,i(A({first:t,firstSign:p[t]})),i(m({firstAmount:""})),void i(d({secondAmount:""}));var t}},r.a.createElement("option",null,"GBP"),r.a.createElement("option",null,"USD"),r.a.createElement("option",null,"EUR")),r.a.createElement(P.a,{type:"number",className:"wallet-input",value:o,onChange:function(e){return t=e.target.value,h(t,i),i(m({firstAmount:t})),void i(d({secondAmount:(t*a).toFixed(2)}));var t},disabled:t===c,min:"0"})),s&&r.a.createElement("p",{className:"wallet-error-message"},s),r.a.createElement("div",null,r.a.createElement("div",{className:"wallet-pocket"},"You Have ",n,u)))),r.a.createElement("div",{className:"arrow-down"}))},G=function(e){var t=e.firstSign,n=e.firstCurrency,c=e.currency,a=e.secondSign,o=e.currencyRate,i=Object(l.b)(),u=Object(l.c)(b),s=(1/o).toFixed(2),f=Object(l.c)((function(e){return e.wallet[c].toFixed(2)}));return r.a.createElement("div",{className:"wallet-container"},r.a.createElement("div",{className:"d-flex flex-column justify-content-between h-100"},r.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},r.a.createElement(P.a,{type:"select",name:"select",className:"wallet-currency-second",defaultValue:c,onChange:function(e){return t=e.target.value,i(N({second:t,secondSign:p[t]})),i(m({firstAmount:""})),void i(d({secondAmount:""}));var t}},r.a.createElement("option",null,"GBP"),r.a.createElement("option",null,"USD"),r.a.createElement("option",null,"EUR")),r.a.createElement(P.a,{type:"number",className:"wallet-input-second",value:u,onChange:function(e){return function(e){var t=e*(1/o);h(e,i),i(m({firstAmount:t.toFixed(2)})),i(d({secondAmount:e}))}(e.target.value)},disabled:c===n,min:"0"})),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{className:"wallet-pocket"},"You Have ",a,f),r.a.createElement("div",{className:"wallet-pocket"},"1",a,"=",t,s))))},Y=function(){var e=Object(l.c)(O),t=Object(l.c)(S),n=Object(l.c)(R),c=Object(l.c)(W),a=Object(l.c)(g),o=Object(l.c)(F);return r.a.createElement("div",{className:"h-100 w-100"},r.a.createElement(T,{firstAmount:a,firstCurrency:e,secondCurrency:t,currencyRate:o}),r.a.createElement("div",{className:"wallets-container"},r.a.createElement(D,{currency:e,firstAmount:a,secondCurrency:t,sign:n,currencyRate:o}),r.a.createElement(G,{currency:t,firstCurrency:e,firstSign:n,secondSign:c,currencyRate:o})))},$=Object(i.a)({reducer:{exchange:k,wallet:E}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:$},r.a.createElement(Y,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[19,1,2]]]);
//# sourceMappingURL=main.c91ebcc1.chunk.js.map